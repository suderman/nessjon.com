/*!
nessjon.com (2013)
Janessa and Jonathan's Wedding Website

*/(function(){function e(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),void 0):(e.attachEvent("on"+t,n),void 0)}function t(e){return"keypress"==e.type?String.fromCharCode(e.which):v[e.which]?v[e.which]:b[e.which]?b[e.which]:String.fromCharCode(e.which).toLowerCase()}function n(e,t){return e.sort().join(",")===t.sort().join(",")}function r(e,t){e=e||{};var n,r=!1;for(n in k)e[n]&&k[n]>t?r=!0:k[n]=0;r||(T=!1)}function i(e,t,r,i,o){var a,s,l=[],u=r.type;if(!E[e])return[];for("keyup"==u&&c(e)&&(t=[e]),a=0;E[e].length>a;++a)s=E[e][a],s.seq&&k[s.seq]!=s.level||u==s.action&&("keypress"==u&&!r.metaKey&&!r.ctrlKey||n(t,s.modifiers))&&(i&&s.combo==o&&E[e].splice(a,1),l.push(s));return l}function o(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function a(e,t,n){A.stopCallback(t,t.target||t.srcElement,n)||e(t,n)===!1&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.returnValue=!1,t.cancelBubble=!0)}function s(e,t){var n,s=i(e,o(t),t),l={},u=0,f=!1;for(n=0;s.length>n;++n)s[n].seq?(f=!0,u=Math.max(u,s[n].level),l[s[n].seq]=1,a(s[n].callback,t,s[n].combo)):f||T||a(s[n].callback,t,s[n].combo);t.type!=T||c(e)||r(l,u)}function l(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=t(e);if(n)return"keyup"==e.type&&N==n?(N=!1,void 0):(s(n,e),void 0)}function c(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function u(){clearTimeout(y),y=setTimeout(r,1e3)}function f(){if(!g){g={};for(var e in v)e>95&&112>e||v.hasOwnProperty(e)&&(g[v[e]]=e)}return g}function p(e,t,n){return n||(n=f()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function d(e,n,i,o){k[e]=0,o||(o=p(n[0],[]));var s,l=function(){T=o,++k[e],u()},c=function(n){a(i,n,e),"keyup"!==o&&(N=t(n)),setTimeout(r,10)};for(s=0;n.length>s;++s)h(n[s],n.length-1>s?l:c,o,e,s)}function h(e,t,n,r,o){e=e.replace(/\s+/g," ");var a,s,l,u=e.split(" "),f=[];if(u.length>1)return d(e,u,t,n),void 0;for(l="+"===e?["+"]:e.split("+"),a=0;l.length>a;++a)s=l[a],C[s]&&(s=C[s]),n&&"keypress"!=n&&x[s]&&(s=x[s],f.push("shift")),c(s)&&f.push(s);n=p(s,f,n),E[s]||(E[s]=[]),i(s,f,{type:n},!r,e),E[s][r?"unshift":"push"]({callback:t,modifiers:f,action:n,seq:r,level:o,combo:e})}function m(e,t,n){for(var r=0;e.length>r;++r)h(e[r],t,n)}for(var g,y,v={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},b={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},x={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},C={option:"alt",command:"meta","return":"enter",escape:"esc"},E={},w={},k={},N=!1,T=!1,S=1;20>S;++S)v[111+S]="f"+S;for(S=0;9>=S;++S)v[S+96]=S;e(document,"keypress",l),e(document,"keydown",l),e(document,"keyup",l);var A={bind:function(e,t,n){return m(e instanceof Array?e:[e],t,n),w[e+":"+n]=t,this},unbind:function(e,t){return w[e+":"+t]&&(delete w[e+":"+t],this.bind(e,function(){},t)),this},trigger:function(e,t){return w[e+":"+t](),this},reset:function(){return E={},w={},this},stopCallback:function(e,t){return(" "+t.className+" ").indexOf(" mousetrap ")>-1?!1:"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.contentEditable&&"true"==t.contentEditable}};window.Mousetrap=A,"function"==typeof define&&define.amd&&define(A)})();